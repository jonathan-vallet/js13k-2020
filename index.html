<!doctype html><html lang="fr"><head><meta charset="utf-8"><title>Cardices</title><style type="text/css">.l-screen{display:flex;flex-direction:column;align-items:center;justify-content:space-around;width:100%;min-height:100vh}.l-screen:not(.-active){display:none}button{position:relative;display:inline-flex;align-items:center;justify-content:center;padding:10px 40px;max-width:350px;min-height:50px;background:#000;border:0;border-radius:5px;color:#fff;font-size:18px;font-variant:small-caps;text-align:center;cursor:pointer}button[disabled]{cursor:not-allowed;background:#666}p{font-size:20px;color:#fff;font-variant:small-caps}#dl{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;margin:50px;perspective:600px}#dl .d{margin:0 50px}.d{display:grid;grid-template-columns:1fr;grid-template-rows:1fr;width:50px;height:50px;list-style-type:none;transform-style:preserve-3d;transition:transform 1.5s ease-out}.d.or{transition:transform 1.25s ease-out}.d__face{display:grid;grid-column:1;grid-row:1;grid-template-areas:"a b c" "d e f" "g h i";grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,1fr);height:100%;padding:6.25px;width:100%;background:#ccc;border:1px solid #000}.dd{display:block;width:10px;height:10px;align-self:center;justify-self:center;background-color:#000;border-radius:50%}[data-r="1"]{transform:rotateX(360deg) rotateY(720deg) rotateZ(360deg)}[data-r="2"]{transform:rotateX(450deg) rotateY(720deg) rotateZ(360deg)}[data-r="3"]{transform:rotateX(360deg) rotateY(630deg) rotateZ(360deg)}[data-r="4"]{transform:rotateX(360deg) rotateY(810deg) rotateZ(360deg)}[data-r="5"]{transform:rotateX(270deg) rotateY(720deg) rotateZ(360deg)}[data-r="6"]{transform:rotateX(360deg) rotateY(900deg) rotateZ(360deg)}.or[data-r="1"]{transform:rotateX(-360deg) rotateY(-720deg) rotateZ(-360deg)}.or[data-r="2"]{transform:rotateX(-270deg) rotateY(-720deg) rotateZ(-360deg)}.or[data-r="3"]{transform:rotateX(-360deg) rotateY(-810deg) rotateZ(-360deg)}.or[data-r="4"]{transform:rotateX(-360deg) rotateY(-630deg) rotateZ(-360deg)}.or[data-r="5"]{transform:rotateX(-450deg) rotateY(-720deg) rotateZ(-360deg)}.or[data-r="6"]{transform:rotateX(-360deg) rotateY(-900deg) rotateZ(-360deg)}[data-s="1"]{transform:rotate3d(0,0,0,90deg) translateZ(25px)}[data-s="2"]{transform:rotate3d(-1,0,0,90deg) translateZ(25px)}[data-s="3"]{transform:rotate3d(0,1,0,90deg) translateZ(25px)}[data-s="4"]{transform:rotate3d(0,-1,0,90deg) translateZ(25px)}[data-s="5"]{transform:rotate3d(1,0,0,90deg) translateZ(25px)}[data-s="6"]{transform:rotate3d(1,0,0,180deg) translateZ(25px)}.dd:last-child{grid-area:i}[data-s="4"] .dd:nth-child(2),[data-s="5"] .dd:nth-child(2),[data-s="6"] .dd:nth-child(2){grid-area:c}[data-s="6"] .dd:nth-child(3){grid-area:d}[data-s="1"] .dd,[data-s="3"] .dd:nth-child(2),[data-s="5"] .dd:nth-child(3){grid-area:e}[data-s="6"] .dd:nth-child(4){grid-area:f}[data-s="4"] .dd:nth-child(3),[data-s="5"] .dd:nth-child(4),[data-s="6"] .dd:nth-child(5){grid-area:g}.c{position:relative}.c__content{width:150px;height:220px;border-radius:10px;text-align:center;border:2px solid #111;backface-visibility:hidden;perspective-origin:50% 50%;transform-style:preserve-3d;transform-origin:center}.c__content::before{content:'';display:block;position:absolute;top:10px;left:10px;right:10px;bottom:10px;background:rgba(255,255,255,.3);border-radius:5px;border:1px solid #111}.c__content.-w{background:#942}.c__content.-m{background:#18b}.c__content.-t{background:#449}.c__content.-a{background:#777}.c__content.-p{background:#a80}.c__content.-h{background:#162}.c__content.-mw{background:linear-gradient(to bottom,#18b 0,#942 100%)}.c__content.-tw{background:linear-gradient(to bottom,#449 0,#942 100%)}.c__content.-aw{background:linear-gradient(to bottom,#777 0,#942 100%)}.c__content.-pw{background:linear-gradient(to bottom,#a80 0,#942 100%)}.c__content.-hw{background:linear-gradient(to bottom,#162 0,#942 100%)}.c__content.-mt{background:linear-gradient(to bottom,#18b 0,#449 100%)}.c__content.-mp{background:linear-gradient(to bottom,#18b 0,#a80 100%)}.c__content.-hm{background:linear-gradient(to bottom,#162 0,#18b 100%)}.c__content.-at{background:linear-gradient(to bottom,#777 0,#449 100%)}.c__content.-pt{background:linear-gradient(to bottom,#a80 0,#449 100%)}.c__content.-ht{background:linear-gradient(to bottom,#162 0,#449 100%)}.c__content.-ah{background:linear-gradient(to bottom,#777 0,#162 100%)}.c__content.-hp{background:linear-gradient(to bottom,#162 0,#a80 100%)}.cr{position:absolute;display:block;bottom:-7px;left:calc(50% - 7px);width:14px;height:14px;transform:rotate(-45deg) skew(15deg,15deg);border:2px solid #111}.cr.r1{background:#fff}.cr.r2{background:#00f}.cr.r3{background:purple}.cr.r4{background:#ff0}.ce{position:absolute;top:130px;left:20px;right:20px;font-size:14px;font-variant:small-caps}.cl{position:absolute;left:0;right:0;top:-1px;font-size:10px;font-variant:small-caps}.cdl{position:absolute;top:50px;left:0;right:0}.cd{display:inline-block;vertical-align:middle;height:50px;line-height:50px;border:2px dashed #fff;width:50px;border-radius:4px;margin:0 5px;font-size:14px;background:rgba(255,255,255,.4)}.cd .b{opacity:.6}.cList{display:grid;width:80%;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));grid-gap:20px}.cList .c{transition:transform .3s ease;perspective:1000px}.cList .c:hover{transform:scale(1.3);z-index:2}#myCardList .c{cursor:pointer}#myCardList .c.-disabled{opacity:.5;cursor:notAllowed}*{margin:0;padding:0}*,::after,::before{box-sizing:inherit}body{background:#333;box-sizing:border-box}.avatarList{display:flex;justify-content:center}.avatarList>*{width:16.66667%;max-width:200px;transition:transform .3s ease;perspective:1000px}.avatarList>:hover{transform:scale(1.2);z-index:2}.avatarList canvas{width:100%}#mapWrapper{background:#ccc;height:2500px;width:80%;margin:10px 10%;overflow-y:auto}.c-lifeBar__wrapper{display:flex;width:80%;justify-content:space-between}.c-lifeBar{position:relative;width:40%;height:40px;background:#666;border:1px solid #000}.c-lifeBar:last-child{transform:scaleX(-1)}.c-lifeBar>*{position:absolute;top:0;left:0;bottom:0;width:0;background:#44c;transition:width .5s ease}.c-lifeBar :nth-child(2){background:#c44;transition-duration:.3s;transition-delay:1.3s}.c-lifeBar :last-child{background:#4c4;transition-duration:1s;transition-delay:.5s}</style></head><body><div class="l-screen -active" id="screen-menu"><button class="js-screen-link" data-screen="screen-game" id="continueButton">Continue game</button> <button class="js-screen-link" data-screen="screen-class-choice">New game</button> All cards<div id="allCardList" class="cList"></div>My cards<div id="myCardList" class="cList"></div>poison: ğŸ¤¢ feu: ğŸ¥µğŸ”¥ glace: ğŸ¥¶â„ proection: ğŸ›¡ stun: ğŸ˜µğŸ¥´ monstres: â˜ ğŸ’€ğŸ‘¿ğŸ˜ˆğŸ‘¹ impact de dÃ©gats: ğŸ’¢ğŸ’¥ livre: ğŸ“– pages: ğŸ“œğŸ“ƒ</div><div class="l-screen" id="screen-class-choice"><p>Create you hero: pick up 2 classes</p><div id="avatarChoiceList" class="avatarList" data-type0="w" data-type1="w"></div><p>You are:</p><div id="myAvatar"></div><p id="myAvatarName"></p><button class="js-screen-link" data-screen="screen-map">Start game</button></div><div class="l-screen" id="screen-map"><button class="js-screen-link" data-screen="screen-game">Start game</button><div id="mapWrapper"><canvas id="map"></canvas></div></div><div class="l-screen" id="screen-game"><div class="c-lifeBar__wrapper"><div class="c-lifeBar" id="lifeBar-1"><p></p><p></p><p></p></div><div class="c-lifeBar" id="lifeBar-2"><p></p><p></p><p></p></div></div>My deck<div id="myDeckList" class="cList"></div><div id="avatar-1"><div><div id="avatar-2"><div><div id="dl"></div><button type="button" id="rb">Roll Dice</button></div><script>!function(){"use strict";var e=e=>document.getElementById(e),t=e=>document.querySelectorAll(e),a=e=>document.createElement(e),r=()=>Math.random(),i=e=>JSON.parse(window.localStorage.getItem(e)),c=(e,t)=>window.localStorage.setItem(e,JSON.stringify(t)),l=Math.PI,s=2*l;function n(e,t){return~~(r()*(t-e+1))+e}const o="w",d="m",f="t",h="a",p="p",u="h";var m={};m[o]={n:"warrior",c:"#942"},m[d]={n:"mage",c:"#18b"},m[f]={n:"thief",c:"#449"},m[h]={n:"assassin",c:"#777"},m[p]={n:"protector",c:"#a80"},m[u]={n:"heal",c:"#162"};const b={w:"warrior",m:"mage",t:"thief",a:"assassin",p:"protector",h:"heal",mw:"battlemage",tw:"rogue",aw:"slayer",pw:"paladin",hw:"templar",mt:"warlock",am:"dreamkiller",mp:"guardian",hm:"runemaster",at:"ninja",pt:"brigand",ht:"trickster",ap:"ranger",ah:"avenger",hp:"sage"},y={m:{s:"ğŸ’€"},e:{s:"ğŸ‘¿"},b:{s:"ğŸ˜ˆ"},t:{s:"ğŸ’°"},r:{s:"â“"},s:{s:"ğŸ¤‘"},h:{s:"ğŸ’–"}};var g=e("allCardList"),v=e("myCardList"),w=e("myDeckList"),$=e("avatarChoiceList"),S=e("myAvatar"),k=e("myAvatarName"),_=e("map"),L=e("continueButton"),M=t(".js-screen-link"),A={};A[`${o}1`]={dice:"-6",effect:"damage|X",rarity:1},A[`${o}2`]={dice:"+4",effect:"damage|X",rarity:1},A[`${d}1`]={dice:"+2",effect:"magic|X",rarity:2},A[`${f}1`]={dice:"6",effect:"split|2",rarity:3},A[`${h}1`]={dice:"double",effect:"poison|3",rarity:4},A[`${p}1`]={dice:"-6|*1",effect:"protection|X",rarity:1},A[`${u}1`]={dice:"odd",effect:"heal|X-1",rarity:1},A[`${o}${d}1`]={dice:"odd",effect:"heal|X-1",rarity:1},A[`${o}${p}1`]={dice:"-6|*1",effect:"protection|X,damage|1",rarity:1};var E=["w1","w1","w1","w2"],x=i("deck")||[];console.log(x);var C=1;function T(e,t){let a=j(e,t);S.innerHTML="",S.appendChild(a),k.innerText=b[X(e+t)],c("avatar",e+t),c("deck",x=["w1","w1","w1","w2"])}function j(e,t){let r=a("div"),i=a("canvas"),c=i.getContext("2d");return i.width=200,i.height=200,function(e,t,a,r){const i=e.width;var c=t.createLinearGradient(.2*i,.2*i,.6*i,i);c.addColorStop(0,a),c.addColorStop(1,r),t.fillStyle=c,q(t,.5*i,.6*i,.4*i,0,s),t.fillStyle="#b87",q(t,.45*i,.5*i,.25*i,0,s),t.fillStyle="#124",q(t,i/1.7,i/2.2,i/35,0,s),q(t,i/2.2,i/2.2,i/35,0,s)}(i,c,m[e].c,m[t].c),function(e,t,a){const r=e.width;switch(a){case o:t.fillStyle="#999",q(t,.45*r,.5*r,.26*r,1.05*l,1.9*l),I(t,.33*r,.3*r,.2*r,.2*r,.28*r,.4*r),I(t,.56*r,.3*r,.7*r,.2*r,.62*r,.4*r);break;case d:t.fillStyle="#138",I(t,.2*r,.3*r,.75*r,.38*r,.5*r,.1*r),I(t,.28*r,.3*r,.7*r,.38*r,.52*r,0*r);break;case f:t.fillStyle="#124",q(t,.45*r,.5*r,.25*r,1.9*-l,1.1*-l),I(t,.55*r,.5*r,.7*r,.58*r,.2*r,.58*r);break;case h:t.fillStyle="#333",q(t,.45*r,.5*r,.25*r,2*l,l);break;case p:t.fillStyle="#999",q(t,.45*r,.5*r,.3*r,1.05*l,1.95*l),q(t,.45*r,.5*r,.27*r,2*l,l);break;case u:t.fillStyle="#242",I(t,.2*r,.3*r,.75*r,.38*r,.5*r,.1*r),I(t,.28*r,.3*r,.7*r,.38*r,.52*r,0*r)}}(i,c,e),function(e,t,a){const r=e.width;switch(a){case o:t.fillStyle="#999",I(t,.75*r,.47*r,.9*r,.4*r,.86*r,.6*r),t.fillStyle="#421",I(t,.6*r,r,.8*r,.4*r,.68*r,r);break;case d:t.fillStyle="#421",I(t,.6*r,r,.8*r,.4*r,.68*r,r),t.fillStyle="#822",q(t,.8*r,.42*r,.1*r,0,s);break;case f:t.fillStyle="#999",I(t,.6*r,r,.72*r,.6*r,.68*r,r);break;case h:t.fillStyle="#111",q(t,.7*r,.8*r,.1*r,0,s),I(t,.7*r,.6*r,.65*r,.8*r,.75*r,.8*r);break;case p:t.fillStyle="#444",q(t,.67*r,.75*r,.14*r,0,s),I(t,.7*r,.95*r,.42*r,.65*r,.88*r,.6*r);break;case u:t.fillStyle="#421",I(t,.6*r,r,.8*r,.4*r,.68*r,r),t.fillStyle="#481",q(t,.8*r,.42*r,.1*r,0,s)}}(i,c,t),B(r),r.appendChild(i),r}function q(e,t,a,r,i,c,l){e.beginPath(),e.arc(t,a,r,i,c,l),e.fill()}function I(e,t,a,r,i,c,l){e.beginPath(),e.moveTo(t,a),e.lineTo(r,i),e.lineTo(c,l),e.fill()}function O(e){var t,r,i=A[e],c=X(e),l=`<div class="c__content -${c}">\n        <p class="cl">${b[c]}</p>\n        <span class="cr r${i.rarity}"></span>\n        <div class="cdl">`;i.dice.split("|").forEach(e=>{l+=function(e){var t=e.match(/([-+*]?)([0-9])/);if(t){var a="",r="",i="";switch(t[1]){case"-":r="max";break;case"+":r="min";break;case"*":a="+",i="b"}return`<p class="cd ${i}">${a}${t[2]}${r}</p>`}return"double"===e?`<p class="cd">${e}</p><p class="cd">${e}</p>`:`<p class="cd">${e}</p>`}(e)}),l+=`</div>${t=i.effect,r="",t.split(",").forEach((e,t)=>{r+=t>0?"<br>":"";var a=e.split("|"),i=a[1];switch(a[0]){case"damage":r+=`Inflict <b>${i}</b> damages`;break;case"poison":r+=`Inflict <b>${i}</b> poison damages`;break;case"magic":r+=`Inflict <b>${i}</b> magical damages`;break;case"heal":r+=`Heal <b>${i}</b> life points`;break;case"split":r+=`Split dice in <b>${i}</b>`;break;case"protection":r+=`Add <b>${i}</b> shield`}}),`<p class="ce">${r}</p>`}`;var s=a("div");return s.classList.add("c"),s.innerHTML=l,s}function X(e){var t=e.replace(/\d+/,"");return t.length<2?t:t[0]==t[1]?t[0]:t[0]<t[1]?t[0]+t[1]:t[1]+t[0]}function B(e){e.addEventListener("mousemove",t=>{let a=t.currentTarget.getBoundingClientRect(),r=Math.max(0,t.pageX-~~a.left),i=Math.max(0,t.pageY-window.scrollY-~~a.top),c=~~a.width,l=~~a.height,s=c/2-r,n=l/2-i,o=Math.sqrt(Math.pow(s,2)+Math.pow(n,2)),d=o/Math.sqrt(Math.pow(c/2,2)+Math.pow(l/2,2));e.querySelector(":first-child").style.transform=`rotate3d(${n/o}, ${-s/o}, 0, ${20*d}deg)`,e.querySelector(":first-child").style.filter=`brightness(${1.2-i/l/2})`}),e.addEventListener("mouseleave",t=>{e.querySelector(":first-child").style.transform="",e.querySelector(":first-child").style.filter=""})}function H(t){let i=a("ol");i.classList.add("d"),r()>.5&&i.classList.add("or"),i.setAttribute("data-r",n(1,6));let c="",l="";for(let e=1;e<7;++e)c+=`<li class="d__face" data-s="${e}">${l+='<span class="dd"></span>'}</li>`;i.innerHTML=c,e("dl").appendChild(i)}e("rb").addEventListener("click",function(){[...t(".d")].forEach(e=>{e.classList.toggle("or"),e.setAttribute("data-r",n(1,6))})});var P=100,N=0;function J(e,a){(N=Math.max(0,Math.min(100,N+a)))<=0&&console.log("you lose!"),[...t(`#lifeBar-${e} p`)].forEach(e=>{e.style.width=`${~~(N/P*100)}%`})}setInterval(()=>{J(n(1,2),n(-50,50))},2e3);const Y=15;var D=[];function G(){var e,t=n(3,4),a=[];for(let i=0;i<t;++i)a.push({e:(e=Array.from("mmmmmeetrrrsh"),e[~~(r()*e.length)])});return a}!function(){D.push([{e:"m"},{e:"m"},{e:"m"}]);for(let e=1;e<Y;++e)D.push(G());D.push([{e:"b"}]),function(){for(let c in D){var e=D[c=+c],t=D[c+1];if(t){var a=0;for(let c in e){var i=e[c=+c];if(i.l=[],c===e.length-1)for(;a<t.length;)i.l.push(a++);else i.l.push(a),t.length>a+1&&(++a,r()>.65&&i.l.push(a))}}}}(),function(){let e=_.getContext("2d");e.filter="grayscale(50%)",_.width=900,_.height=150*(Y+1);for(let[i,c]of Object.entries(D)){let l=i==D.length-1?60:20;e.font=`${l}px serif`,i=+i;for(let[s,n]of Object.entries(c)){var t=~~(150*(2.25+(s=+s)+.6*r()-c.length/2)),a=~~(_.height-150*(i+.6-.4*r()));n.x=t,n.y=a,e.fillText(y[n.e].s,t-l,a)}}for(let[t,a]of Object.entries(D)){var i=D[1+(t=+t)];if(i)for(let[t,r]of Object.entries(a)){t=+t;for(let t in r.l){let a=i[r.l[t]];e.beginPath(),e.moveTo(r.x+10*t-10,r.y-25),e.lineTo(a.x-12,a.y+10),e.stroke()}}}}()}(),function(){for(const t of Object.keys(A)){var e=O(t);B(e),g.append(e)}}(),E.forEach(e=>{var t=O(e);B(t),t.addEventListener("click",()=>{x.push(e)}),v.append(t)}),x.forEach(e=>{var t=O(e);B(t),w.append(t)}),function(){for(const[e,t]of Object.entries(m)){let t=j(e,e);t.setAttribute("data-type",e),t.onclick=(()=>{var e=t.getAttribute("data-type");$.setAttribute(`data-type${++C%2}`,e),T($.getAttribute("data-type0"),$.getAttribute("data-type1")),t.classList.add(`-choice${C%2}`)}),$.appendChild(t)}T("w","w")}(),H(),H(),H(),H(),J(1,P),J(2,P),[...M].forEach(t=>{t.onclick=(()=>{document.querySelector(".l-screen.-active").classList.remove("-active"),e(t.getAttribute("data-screen")).classList.add("-active")})}),i("avatar")||L.setAttribute("disabled","disabled")}();</script></div></div></div></div></body></html>